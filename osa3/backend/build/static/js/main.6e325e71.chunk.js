(this.webpackJsonppuhelinluettelo=this.webpackJsonppuhelinluettelo||[]).push([[0],{17:function(e,t,n){e.exports=n(40)},22:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(15),c=n.n(o),l=(n(22),n(16)),u=n(2),i=n(4),m=n.n(i),s="/api/persons",d=function(){return m.a.get(s).then((function(e){return e.data}))},f=function(e){return m.a.post(s,e).then((function(e){return e.data})).catch((function(e){throw e}))},h=function(e,t){return m.a.put("".concat(s,"/").concat(e),t).then((function(e){return e.data}))},p=function(e){return m.a.delete("".concat(s,"/").concat(e)).then((function(e){return e.data}))},b=function(e){var t=e.msg,n=e.style;return null===t?null:r.a.createElement("div",{style:n},t)},g=function(e){var t=e.handleNameChange,n=e.handleNumberChange,a=e.addPerson,o=e.newName,c=e.number;return r.a.createElement("div",{className:"container"},r.a.createElement("form",{className:"form"},r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",onChange:t,value:o,placeholder:"Name"})),r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",onChange:n,value:c,placeholder:"number"})),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:a},"Add")))},v=function(e){var t=e.handleSearchChange,n=e.addSearch,a=e.search;return r.a.createElement("form",{className:"form"},r.a.createElement("input",{type:"text",className:"form-control",onChange:t,value:a,placeholder:"Search"}),r.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:n},"Search"))},E=function(e){var t=e.persons,n=e.match,a=e.deletePerson;return r.a.createElement("div",null,r.a.createElement("h2",null,"Phonebook"),r.a.createElement("ul",null,t.filter((function(e){return n.test(e.name)})).map((function(e,t){return r.a.createElement("div",{key:t},r.a.createElement("h5",null,e.name),r.a.createElement("h5",null,e.number),r.a.createElement("button",{onClick:function(t){return a(t,e)},className:"btn btn-danger"},"Del"))}))))},w=function(){var e={color:"green",fontSize:"20px",bordeStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},t={color:"red",fontSize:"20px",bordeStyle:"solid",borderRadius:"5px",padding:"10px",marginBottom:"10px"},n=Object(a.useState)([]),o=Object(u.a)(n,2),c=o[0],i=o[1],m=Object(a.useState)(""),s=Object(u.a)(m,2),w=s[0],S=s[1],N=Object(a.useState)(""),y=Object(u.a)(N,2),O=y[0],x=y[1],j=Object(a.useState)(new RegExp("[sS]*")),C=Object(u.a)(j,2),k=C[0],T=C[1],P=Object(a.useState)(""),B=Object(u.a)(P,2),D=B[0],R=B[1],J=Object(a.useState)(""),z=Object(u.a)(J,2),W=z[0],A=z[1],I=Object(a.useState)(e),M=Object(u.a)(I,2),$=M[0],q=M[1];Object(a.useEffect)((function(){d().then((function(e){i(e)}))}),[]);return r.a.createElement("div",null,r.a.createElement(b,{msg:W,style:$}),r.a.createElement(E,{persons:c,match:k,deletePerson:function(e,t){e.preventDefault(),!0===window.confirm("Sure you want to del "+t.name+"?")&&p(t.id).then((function(e){var n=c.indexOf(t);if(console.log("idx "+n),-1!==n){var a=c.filter((function(e){return e!==t}));i(Object(l.a)(a)),A("".concat(t.name," was deleted")),setTimeout((function(){A(null)}),5e3)}}))}}),r.a.createElement(v,{handleSearchChange:function(e){console.log(e.target.value),R(e.target.value)},addSearch:function(e){e.preventDefault(),T(new RegExp(D)),R("")},search:D}),r.a.createElement(g,{handleNameChange:function(e){console.log(e.target.value),S(e.target.value)},handleNumberChange:function(e){console.log(e.target.value),x(e.target.value)},addPerson:function(n){n.preventDefault();var a=c.find((function(e){return e.name===w})),r={name:w,number:O};if(void 0!==a){if(!1===window.confirm("set new number for "+w+"?"))return;return h(a.id,r).then((function(e){i(c.map((function(t){return t.id!==a.id?t:e})))})).catch((function(n){q(t),A("".concat(a.name," had been deleted")),setTimeout((function(){A(null),q(e)}),5e3),console.log("Tried to delete non existing entry from server")})),A("".concat(a.name,"'s number was updated")),setTimeout((function(){A(null)}),5e3),S(""),void x("")}A("".concat(r.name," was added")),setTimeout((function(){A(null)}),5e3),f(r).then((function(e){void 0!==e&&i(c.concat(e))})).catch((function(n){console.log("failed creating person"),q(t);var a=JSON.stringify(n.response.data);A("".concat(a)),setTimeout((function(){A(null),q(e)}),5e3)})),S(""),x("")},newName:w,number:O}),r.a.createElement("h2",null,"Numbers"))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(w,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.6e325e71.chunk.js.map